{"title":"Adam LaCombe - Introduction to Docker","date":"August 28, 2020","url":"/blog/introduction-to-docker","author":"Adam LaCombe","twitter":"adamlacombe","description":"This is a basic introduction to Docker. You'll learn what docker is, how to install it, build images and run containers.","tags":["docker","containers"],"img":"/assets/blog/images/introduction-to-docker/docker-commands.jpg","srcPath":"./src/blog/introduction-to-docker.md","hypertext":["div",null,["h1",{"id":"what-is-docker"},"What is Docker?"],"\n",["p",null,"Docker allows developers to run their applications in a predefined environment. Have you ever heard the phrase ",["code",null,"It works on my machine"],"? "],"\n",["picture",null,"\n  ",["source",{"type":"image/avif","srcset":"/assets/blog/images/introduction-to-docker/avif/it-works-on-my-machine.avif"}],"\n  ",["source",{"type":"image/webp","srcset":"/assets/blog/images/introduction-to-docker/webp/it-works-on-my-machine.webp"}],"\n  ",["img",{"src":"/assets/blog/images/introduction-to-docker/it-works-on-my-machine.jpg","alt":"It works on my machine","loading":"lazy"}],"\n"],"\n\n",["p",null,"Well, no more! You can write a Dockerfile that packages up all the dependencies and configurations someone might need to run your application. "],"\n",["p",null,"Docker is ",["a",{"href":"https://github.com/docker/docker-ce"},"open-source"]," software so anyone can contribute to its development."],"\n",["h1",{"id":"terms"},"Terms"],"\n",["p",null,"Here are a few terms along with my definition. You can find a more detailed glossary on ",["a",{"href":"https://docs.docker.com/glossary/"},"Docker docs"],"."],"\n",["h2",{"id":"dockerfile"},"Dockerfile"],"\n",["p",null,"A text file that contains all the commands/instructions to build an ",["em",null,"image"],". You can think of this as a template."],"\n",["h2",{"id":"image"},"image"],"\n",["p",null,"The result of building a ",["em",null,"Dockerfile"]," (",["code",null,"docker build -t my_image_name ."],"). You can think of this as your compiled template."],"\n",["h2",{"id":"container"},"container"],"\n",["p",null,"An instance of an ",["em",null,"image"]," (",["code",null,"docker run --name my_instance my_image_name"],")"],"\n",["h2",{"id":"entrypoint"},"ENTRYPOINT"],"\n",["p",null,"The command that's run within the ",["em",null,"container"]," once the ",["em",null,"container"]," starts."],"\n",["h2",{"id":"volume"},"volume"],"\n",["p",null,"Directory on your host machine that can be mapped to a location within your container (",["code",null,"docker run --name my_instance -v /home/adam/my-project:/var/www/html my_image_name"],")"],"\n",["h1",{"id":"installing-docker"},"Installing Docker"],"\n",["p",null,"Instead of walking you through the installation steps for each operating system, I'll refer you to the official Docker documentation:"],"\n",["ul",null,"\n",["li",null,["a",{"href":"https://docs.docker.com/docker-for-windows/install/"},"Windows - 10 Pro, Enterprise, or Education (Build 16299 or later)"]],"\n",["li",null,["a",{"href":"https://docs.docker.com/docker-for-windows/install-windows-home/"},"Windows - 10 Home"]],"\n",["li",null,["a",{"href":"https://docs.docker.com/docker-for-mac/install/"},"Mac"]],"\n",["li",null,["a",{"href":"https://docs.docker.com/engine/install/ubuntu/"},"Ubuntu"]],"\n"],"\n",["h1",{"id":"getting-started"},"Getting started"],"\n",["p",null,"Now that you have Docker installed on your host machine you can start creating containers! "],"\n",["p",null,"Let's run an instance of ",["a",{"href":"https://hub.docker.com/_/hello-world"},"hello-world"],":"],"\n\n  ",["highlight-code",{"language":"bash"},"\n    ",["pre",{"class":"language-bash"},["code",{"class":"language-bash"},"docker run hello-world"]],"\n  "],"\n  ",["picture",null,"\n  ",["source",{"type":"image/avif","srcset":"/assets/blog/images/introduction-to-docker/avif/docker-run-hello-world.avif"}],"\n  ",["source",{"type":"image/webp","srcset":"/assets/blog/images/introduction-to-docker/webp/docker-run-hello-world.webp"}],"\n  ",["img",{"src":"/assets/blog/images/introduction-to-docker/docker-run-hello-world.png","alt":"Run hello-world","loading":"lazy"}],"\n"],"\n\n",["h1",{"id":"creating-an-image"},"Creating an image"],"\n",["p",null,"The purpose of this image will be to run a simple Apache server."],"\n",["p",null,"To create an image you'll need to write a Dockerfile, to do that make a new file, and name it ",["code",null,"Dockerfile"]," (no file extension)."],"\n\n  ",["highlight-code",{"language":"Dockerfile"},"\n    ",["pre",{"class":"language-Dockerfile"},["code",{"class":"language-Dockerfile"},"FROM ubuntu:latest\n\nRUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get -y install apache2\n\nEXPOSE 80\n\nCMD /usr/sbin/apache2ctl -D FOREGROUND"]],"\n  "],"\n  ",["p",null,"Now run the following command to build your image:"],"\n\n  ",["highlight-code",{"language":"bash"},"\n    ",["pre",{"class":"language-bash"},["code",{"class":"language-bash"},"docker build -t simple-apache-server ",["span",{"class":"token builtin class-name"},"."]]],"\n  "],"\n  ",["p",null,"You should see the following output:"],"\n",["picture",null,"\n  ",["source",{"type":"image/avif","srcset":"/assets/blog/images/introduction-to-docker/avif/docker-build-simple-apache-server.avif"}],"\n  ",["source",{"type":"image/webp","srcset":"/assets/blog/images/introduction-to-docker/webp/docker-build-simple-apache-server.webp"}],"\n  ",["img",{"src":"/assets/blog/images/introduction-to-docker/docker-build-simple-apache-server.png","alt":"build simple-apache-server","loading":"lazy"}],"\n"],"\n\n",["h1",{"id":"running-a-container"},"Running a container"],"\n",["p",null,"Now that you've built an image, let's run an instance of it."],"\n\n  ",["highlight-code",{"language":"bash"},"\n    ",["pre",{"class":"language-bash"},["code",{"class":"language-bash"},"docker run -d --name my-apache-container -p ",["span",{"class":"token number"},"3338"],":80 simple-apache-server"]],"\n  "],"\n  ",["p",null,"Navigate to ",["a",{"href":"http://localhost:3338"},"localhost:3338"]," in your browser and you should see the default apache page!"],"\n",["picture",null,"\n  ",["source",{"type":"image/avif","srcset":"/assets/blog/images/introduction-to-docker/avif/apache-default-page.avif"}],"\n  ",["source",{"type":"image/webp","srcset":"/assets/blog/images/introduction-to-docker/webp/apache-default-page.webp"}],"\n  ",["img",{"src":"/assets/blog/images/introduction-to-docker/apache-default-page.png","alt":"default Apache page","loading":"lazy"}],"\n"],"\n\n",["h3",{"id":"an-explanation-of-the-different-arguments-used-in-the-command-above"},"An explanation of the different arguments used in the command above:"],"\n",["ul",null,"\n",["li",null,["code",null,"-d"]," will run the container in the background and print its container ID."],"\n",["li",null,["code",null,"-p"]," will publish the container's port to the host. ",["code",null,"HOST_PORT"],":",["code",null,"CONTAINER_PORT"]],"\n",["li",null,["code",null,"--name"]," lets you assign a name to the container."],"\n"],"\n",["h1",{"id":"helpful-commands"},"Helpful commands"],"\n",["h2",{"id":"list-the-images-youve-built"},"List the images you've built"],"\n\n  ",["highlight-code",{"language":"bash"},"\n    ",["pre",{"class":"language-bash"},["code",{"class":"language-bash"},"docker images"]],"\n  "],"\n  ",["h2",{"id":"list-running-containers"},"List running containers"],"\n\n  ",["highlight-code",{"language":"bash"},"\n    ",["pre",{"class":"language-bash"},["code",{"class":"language-bash"},"docker ",["span",{"class":"token function"},"ps"]]],"\n  "],"\n  ",["h2",{"id":"list-all-containers-running-and-stopped"},"List all containers (running and stopped)"],"\n\n  ",["highlight-code",{"language":"bash"},"\n    ",["pre",{"class":"language-bash"},["code",{"class":"language-bash"},"docker ",["span",{"class":"token function"},"ps"]," -a"]],"\n  "],"\n  ",["h2",{"id":"remove-a-container"},"Remove a container"],"\n\n  ",["highlight-code",{"language":"bash"},"\n    ",["pre",{"class":"language-bash"},["code",{"class":"language-bash"},"docker ",["span",{"class":"token function"},"rm"]," CONTAINER_NAME"]],"\n  "],"\n  ",["h2",{"id":"stop-a-container"},"Stop a container"],"\n\n  ",["highlight-code",{"language":"bash"},"\n    ",["pre",{"class":"language-bash"},["code",{"class":"language-bash"},"docker stop CONTAINER_NAME"]],"\n  "],"\n  ",["h2",{"id":"start-a-container"},"Start a container"],"\n\n  ",["highlight-code",{"language":"bash"},"\n    ",["pre",{"class":"language-bash"},["code",{"class":"language-bash"},"docker start CONTAINER_NAME"]],"\n  "],"\n  ",["h2",{"id":"bash-into-a-running-container"},"\"bash into\" a running container"],"\n",["iframe",{"src":"https://giphy.com/embed/dtfUJxOTqhHO","frameborder":"0","class":"giphy-embed","allowfullscreen":""}],"\n\n\n  ",["highlight-code",{"language":"bash"},"\n    ",["pre",{"class":"language-bash"},["code",{"class":"language-bash"},"docker ",["span",{"class":"token builtin class-name"},"exec"]," -it CONTAINER_NAME ",["span",{"class":"token function"},"bash"]]],"\n  "]]}